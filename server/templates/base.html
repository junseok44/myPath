{% load static %}

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="{% static 'reset.css' %}" />
    <link rel="stylesheet" href="{% static 'index.css' %}" />
    <link rel="stylesheet" href="{% static 'shared.css' %}" />
    <link rel="stylesheet" href="{% static 'user/base.css' %}" />
    {% block stylesheet %}{% endblock %}
  </head>
  <body>
    <header>
      <div class="responsive-container">
        <div class="header">
          <div class="header_item">
            <a href="/" class="header_logo">MYPATH</a>
          </div>

          <div class="header_item">
            {% if user.is_authenticated %}
            <span class="header_username">
              {{user.username}}
              <span class="header__greetings">님 안녕하세요! </span>
            </span>
            <a class="header_btn" href="{% url 'post:post_write' %}">
              <i class="fa-solid fa-pen-to-square"></i>
              <div class="header_dropdown">글 작성하기</div>
            </a>
            <a class="header_btn" href="{% url 'post:post_list' %}">
              <i class="fa-solid fa-file-lines"></i>
            </a>
            <a class="header_btn" href="{% url 'my_page' %}">
              <i class="fa-solid fa-user"></i>
              <div class="header_dropdown">마이페이지</div>
            </a>
            <a class="header_btn" href="{% url 'user_logout' %}">
              <i class="fa-solid fa-right-from-bracket"></i>
              <div class="header_dropdown">로그아웃</div>
            </a>

            {% else %}

            <a class="header_btn" href="/user/login">
              <i class="fa-solid fa-right-to-bracket"></i>
              <div class="header_dropdown">로그인</div>
            </a>
            <a class="header_btn" href="/user/signup">
              <i class="fa-solid fa-user-plus"></i>
              <div class="header_dropdown">회원가입</div>
            </a>
          </div>
          {% endif %}
        </div>
      </div>
    </header>
    <div class="responsive-container">
      <div class="content_padding">{% block content %}{% endblock %}</div>
    </div>
    {% if messages %}
    <div class="messages">
      {% for message in messages %}
      <div class="message {{ message.tags }}">{{ message }}</div>
      {% endfor %}
    </div>
    {% endif %}
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        var messages = document.querySelector(".messages");
        if (messages) {
          setTimeout(function () {
            messages.style.top = "-100%"; // Move the message back up

            messages.classList.add("show"); // Show the message
            setTimeout(function () {
              messages.style.top = "-100%"; // Move the message back up
            }, 1000); // Wait for 3 seconds
          }, 500); // Delay before showing the message
        }
      });
    </script>

    <footer>
      <div class="responsive-container">
        <div class="footer">
          <div class="footer_icon-container">
            <a class="footer_icon">
              <i class="fa-brands fa-instagram"></i>
            </a>
            <a class="footer_icon">
              <i class="fa-solid fa-envelope"></i>
            </a>
            <a class="footer_icon"> <i class="fa-brands fa-github"></i> </a>
          </div>
          <div>
            <a class="footer_name">장준석</a>
            <a class="footer_name">백서경</a>
            <a class="footer_name">김도은</a>
            <a class="footer_name">채리원</a>
            <a class="footer_name">이정한</a>
          </div>
          <div>Team mypath. All Rights Reserved.</div>
          <div class="footer_copyright">
            <a
              href="https://www.flaticon.com/free-icons/left"
              title="left icons"
              >Left icons created by Freepik - Flaticon</a
            >
          </div>
        </div>
      </div>
    </footer>
  </body>

  <script
    src="https://kit.fontawesome.com/6fbcf91afd.js"
    crossorigin="anonymous"
  ></script>
</html>
